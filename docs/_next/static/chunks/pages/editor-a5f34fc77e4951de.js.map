{"version":3,"file":"static/chunks/pages/editor-a5f34fc77e4951de.js","mappings":"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","sources":["webpack://_N_E/?fab7","webpack://_N_E/./src/constants/graph.ts","webpack://_N_E/./src/enums/file.enum.ts","webpack://_N_E/./src/enums/viewMode.enum.ts","webpack://_N_E/./src/features/editor/views/GraphView/lib/utils/calculateNodeSize.ts","webpack://_N_E/./src/features/editor/views/GraphView/lib/jsonParser.ts","webpack://_N_E/./src/features/editor/views/GraphView/stores/useGraph.ts","webpack://_N_E/./src/features/modals/DownloadModal/index.tsx","webpack://_N_E/./src/features/modals/ImportModal/index.tsx","webpack://_N_E/./src/features/modals/NodeModal/index.tsx","webpack://_N_E/./src/features/modals/JWTModal/index.tsx","webpack://_N_E/./src/features/modals/SchemaModal/index.tsx","webpack://_N_E/./src/hooks/useJsonQuery.ts","webpack://_N_E/./src/features/modals/JQModal/index.tsx","webpack://_N_E/./src/features/modals/TypeModal/index.tsx","webpack://_N_E/./src/features/modals/JPathModal/index.tsx","webpack://_N_E/./src/features/modals/index.ts","webpack://_N_E/./src/features/modals/modalTypes.ts","webpack://_N_E/./src/layout/JsonCrackLogo.tsx","webpack://_N_E/./src/lib/utils/jsonAdapter.ts","webpack://_N_E/./src/features/editor/BottomBar.tsx","webpack://_N_E/./src/features/editor/FullscreenDropzone.tsx","webpack://_N_E/./src/features/editor/Toolbar/styles.ts","webpack://_N_E/./src/features/editor/Toolbar/FileMenu.tsx","webpack://_N_E/./src/features/editor/Toolbar/ToolsMenu.tsx","webpack://_N_E/./src/features/editor/Toolbar/ViewMenu.tsx","webpack://_N_E/./src/features/editor/Toolbar/index.tsx","webpack://_N_E/./src/pages/editor.tsx","webpack://_N_E/./src/store/useConfig.ts","webpack://_N_E/./src/lib/utils/helpers.ts","webpack://_N_E/./src/store/useFile.ts","webpack://_N_E/./src/store/useJson.ts","webpack://_N_E/./src/store/useModal.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/editor\",\n      function () {\n        return require(\"private-next-pages/editor.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/editor\"])\n      });\n    }\n  ","export const NODE_DIMENSIONS = {\n  ROW_HEIGHT: 30, // Regular row height\n  PARENT_HEIGHT: 36, // Height for parent nodes\n} as const;\n\nexport const SUPPORTED_LIMIT = +(process.env.NEXT_PUBLIC_NODE_LIMIT as string);\n","export enum FileFormat {\n  \"JSON\" = \"json\",\n  \"YAML\" = \"yaml\",\n  \"XML\" = \"xml\",\n  \"TOML\" = \"toml\",\n  \"CSV\" = \"csv\",\n}\n\nexport const formats = [\n  { value: FileFormat.JSON, label: \"JSON\" },\n  { value: FileFormat.YAML, label: \"YAML\" },\n  { value: FileFormat.XML, label: \"XML\" },\n  { value: FileFormat.CSV, label: \"CSV\" },\n];\n\nexport enum TypeLanguage {\n  TypeScript = \"typescript\",\n  TypeScript_Combined = \"typescript/typealias\",\n  Go = \"go\",\n  JSON_SCHEMA = \"json_schema\",\n  Kotlin = \"kotlin\",\n  Rust = \"rust\",\n}\n\nexport const typeOptions = [\n  {\n    label: \"TypeScript\",\n    value: TypeLanguage.TypeScript,\n    lang: \"typescript\",\n  },\n  {\n    label: \"TypeScript (merged)\",\n    value: TypeLanguage.TypeScript_Combined,\n    lang: \"typescript\",\n  },\n  {\n    label: \"Go\",\n    value: TypeLanguage.Go,\n    lang: \"go\",\n  },\n  {\n    label: \"JSON Schema\",\n    value: TypeLanguage.JSON_SCHEMA,\n    lang: \"json\",\n  },\n  {\n    label: \"Kotlin\",\n    value: TypeLanguage.Kotlin,\n    lang: \"kotlin\",\n  },\n  {\n    label: \"Rust\",\n    value: TypeLanguage.Rust,\n    lang: \"rust\",\n  },\n];\n","export enum ViewMode {\n  Graph = \"graph\",\n  Tree = \"tree\",\n}\n","import { NODE_DIMENSIONS } from \"../../../../../../constants/graph\";\nimport useConfig from \"../../../../../../store/useConfig\";\n\ntype Text = number | string | [string, string][];\ntype Size = { width: number; height: number };\n\nexport const isContentImage = (value: Text) => {\n  if (typeof value !== \"string\") return false;\n\n  const isImageURL = /(https?:\\/\\/.*\\.(?:png|jpg|gif|svg))/i.test(value);\n  const isBase64 = value.startsWith(\"data:image/\") && value.includes(\"base64\");\n\n  return isImageURL || isBase64;\n};\n\nconst calculateLines = (text: Text): string => {\n  if (Array.isArray(text)) {\n    return text.map(([k, v]) => `${k}: ${JSON.stringify(v).slice(0, 80)}`).join(\"\\n\");\n  }\n\n  return `${text}`;\n};\n\nconst calculateWidthAndHeight = (str: string, single = false) => {\n  if (!str) return { width: 45, height: 45 };\n\n  const dummyElement = document.createElement(\"div\");\n  dummyElement.style.whiteSpace = single ? \"nowrap\" : \"pre-wrap\";\n  dummyElement.innerText = str;\n  dummyElement.style.fontSize = \"12px\";\n  dummyElement.style.width = \"fit-content\";\n  dummyElement.style.padding = \"0 10px\";\n  dummyElement.style.fontWeight = \"500\";\n  dummyElement.style.fontFamily = \"monospace\";\n  document.body.appendChild(dummyElement);\n\n  const clientRect = dummyElement.getBoundingClientRect();\n  const lines = str.split(\"\\n\").length;\n\n  const width = clientRect.width + 4;\n  // Use parent height for single line nodes that are parents\n  const height = single ? NODE_DIMENSIONS.PARENT_HEIGHT : lines * NODE_DIMENSIONS.ROW_HEIGHT;\n\n  document.body.removeChild(dummyElement);\n  return { width, height };\n};\n\nconst sizeCache = new Map<Text, Size>();\n\n// clear cache every 2 mins\nsetInterval(() => sizeCache.clear(), 120_000);\n\nexport const calculateNodeSize = (text: Text, isParent = false) => {\n  const { imagePreviewEnabled } = useConfig.getState();\n  const isImage = isContentImage(text) && imagePreviewEnabled;\n\n  const cacheKey = [text, isParent].toString();\n\n  // check cache if data already exists\n  if (sizeCache.has(cacheKey)) {\n    const size = sizeCache.get(cacheKey);\n    if (size) return size;\n  }\n\n  const lines = calculateLines(text);\n  const sizes = calculateWidthAndHeight(lines, typeof text === \"string\");\n\n  if (isImage) {\n    sizes.width = 80;\n    sizes.height = 80;\n  }\n\n  if (isParent) sizes.width += 80;\n  if (sizes.width > 700) sizes.width = 700;\n\n  sizeCache.set(cacheKey, sizes);\n  return sizes;\n};\n","/**\n * Copyright (c) JSON Crack\n * This source code is licensed under the Apache 2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { parseTree, getNodePath, type Node } from \"jsonc-parser\";\nimport type { EdgeData, NodeData, NodeRow } from \"../../../../../types/graph\";\nimport { calculateNodeSize } from \"./utils/calculateNodeSize\";\n\nexport type Graph = {\n  nodes: NodeData[];\n  edges: EdgeData[];\n};\n\nexport const parser = (json: string): Graph => {\n  const jsonTree = parseTree(json);\n  if (!jsonTree) return { nodes: [], edges: [] };\n\n  const nodes: NodeData[] = [];\n  const edges: EdgeData[] = [];\n  let nodeId = 1;\n  let edgeId = 1;\n\n  function traverse(node: Node, parentId?: string) {\n    const id = String(nodeId++);\n    const text: NodeRow[] = [];\n\n    // If parentId is provided, create an edge from parentId to the current node id\n    if (parentId !== undefined && node.parent?.type === \"array\") {\n      edges.push({\n        id: String(edgeId++),\n        from: parentId,\n        to: id,\n        text: \"\",\n      });\n    }\n\n    const isArray = node.type === \"array\";\n    const isRootArray = !node.parent || node.parent.type === \"array\";\n    if (isArray && isRootArray) {\n      const { width, height } = calculateNodeSize(`[${node.children?.length ?? \"0\"} items]`);\n      nodes.push({\n        id,\n        text: [\n          {\n            key: null,\n            value: `[${node.children?.length ?? 0} items]`,\n            type: \"array\",\n            childrenCount: node.children?.length,\n          },\n        ],\n        width,\n        height,\n        path: [],\n      });\n\n      node.children?.forEach(child => {\n        traverse(child, id);\n      });\n\n      return id;\n    }\n\n    node.children?.forEach(child => {\n      if (!child.children || !child.children[1]) return traverse(child, id);\n\n      const key = child.children[0].value ?? null;\n      const valueNode = child.children[1];\n      const type = valueNode.type;\n\n      if (type === \"array\") {\n        const targetIds: string[] = [];\n\n        valueNode.children?.forEach(arrayChild => {\n          const arrayChildId = traverse(arrayChild, undefined);\n          if (arrayChildId) targetIds.push(arrayChildId);\n        });\n\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n          to: targetIds.length > 0 ? targetIds : undefined,\n          childrenCount: valueNode.children?.length,\n        });\n\n        targetIds.forEach(targetId => {\n          edges.push({\n            id: String(edgeId++),\n            from: id,\n            to: targetId,\n            text: key ?? null,\n          });\n        });\n      } else if (type === \"object\") {\n        const objectNodeId = traverse(valueNode, id);\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n          childrenCount: Object.keys(valueNode.children ?? {}).length,\n          ...(objectNodeId && { to: [objectNodeId] }),\n        });\n\n        if (objectNodeId) {\n          edges.push({\n            id: String(edgeId++),\n            from: id,\n            to: objectNodeId,\n            text: key ?? null,\n          });\n        }\n      } else {\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n        });\n      }\n    });\n\n    // to handle case where empty object inside array [{}]\n    if (node.parent?.type === \"array\" && node.type === \"object\" && node.children?.length === 0) {\n      text.push({\n        key: null,\n        value: \"{0 keys}\",\n        type: \"object\",\n        childrenCount: 0,\n      });\n    }\n\n    const appendParentKey = () => {\n      const getParentKey = (targetNode: any) => {\n        const path = getNodePath(targetNode);\n        return path?.pop()?.toString();\n      };\n\n      if (!node.parent) {\n        return { parentKey: getParentKey(node), parentType: node.type };\n      }\n\n      if (node.parent.type === \"array\") {\n        return { parentKey: getParentKey(node.parent), parentType: \"array\" };\n      }\n\n      if (node.parent.type === \"property\") {\n        return { parentKey: getParentKey(node), parentType: \"object\" };\n      }\n\n      return {\n        parentKey: getParentKey(node),\n        parentType: node.parent.type.replace(\"property\", \"object\"),\n      };\n    };\n\n    // its for singular text like string, number, boolean, null\n    if (text.length === 0) {\n      if (typeof node.value === \"undefined\") return;\n      const { width, height } = calculateNodeSize(node.value);\n\n      nodes.push({\n        id,\n        text: [\n          {\n            key: null,\n            value: node.value,\n            type: node.type,\n          },\n        ],\n        width,\n        height,\n        path: getNodePath(node),\n        ...appendParentKey(),\n      });\n    } else {\n      let t: string | [string, string][] = \"\";\n\n      if (text.some(t => t.key !== null)) {\n        t = text.map(t => {\n          const keyStr = t.key === null ? \"\" : t.key;\n          if (t.type === \"object\") return [keyStr, `{${t.childrenCount ?? 0} keys}`];\n          if (t.type === \"array\") return [keyStr, `[${t.childrenCount ?? 0} items]`];\n          if (t.value === null) return [keyStr, \"null\"];\n\n          return [keyStr, `${t.value}`];\n        });\n      } else {\n        t = `${text[0].value}`;\n      }\n\n      const { width, height } = calculateNodeSize(t);\n      nodes.push({\n        id,\n        text,\n        width,\n        height,\n        path: getNodePath(node),\n        ...appendParentKey(),\n      });\n    }\n\n    return id; // Return the current id for referencing in the parent node\n  }\n\n  traverse(jsonTree);\n  return { nodes, edges };\n};\n","import type { ViewPort } from \"react-zoomable-ui/dist/ViewPort\";\nimport type { CanvasDirection } from \"reaflow/dist/layout/elkLayout\";\nimport { create } from \"zustand\";\nimport { SUPPORTED_LIMIT } from \"../../../../../constants/graph\";\nimport useJson from \"../../../../../store/useJson\";\nimport type { EdgeData, NodeData } from \"../../../../../types/graph\";\nimport { parser } from \"../lib/jsonParser\";\n\nexport interface Graph {\n  viewPort: ViewPort | null;\n  direction: CanvasDirection;\n  loading: boolean;\n  fullscreen: boolean;\n  nodes: NodeData[];\n  edges: EdgeData[];\n  selectedNode: NodeData | null;\n  path: string;\n  aboveSupportedLimit: boolean;\n}\n\nconst initialStates: Graph = {\n  viewPort: null,\n  direction: \"RIGHT\",\n  loading: true,\n  fullscreen: false,\n  nodes: [],\n  edges: [],\n  selectedNode: null,\n  path: \"\",\n  aboveSupportedLimit: false,\n};\n\ninterface GraphActions {\n  setGraph: (json?: string, options?: Partial<Graph>[]) => void;\n  setLoading: (loading: boolean) => void;\n  setDirection: (direction: CanvasDirection) => void;\n  setViewPort: (ref: ViewPort) => void;\n  setSelectedNode: (nodeData: NodeData) => void;\n  focusFirstNode: () => void;\n  toggleFullscreen: (value: boolean) => void;\n  zoomIn: () => void;\n  zoomOut: () => void;\n  centerView: () => void;\n  clearGraph: () => void;\n  setZoomFactor: (zoomFactor: number) => void;\n}\n\nconst useGraph = create<Graph & GraphActions>((set, get) => ({\n  ...initialStates,\n  clearGraph: () => set({ nodes: [], edges: [], loading: false }),\n  setSelectedNode: nodeData => set({ selectedNode: nodeData }),\n  setGraph: (data, options) => {\n    const { nodes, edges } = parser(data ?? useJson.getState().json);\n\n    if (nodes.length > SUPPORTED_LIMIT) {\n      return set({\n        aboveSupportedLimit: true,\n        ...options,\n        loading: false,\n      });\n    }\n\n    set({\n      nodes,\n      edges,\n      aboveSupportedLimit: false,\n      ...options,\n    });\n  },\n  setDirection: (direction = \"RIGHT\") => {\n    set({ direction });\n    setTimeout(() => get().centerView(), 200);\n  },\n  setLoading: loading => set({ loading }),\n  focusFirstNode: () => {\n    const rootNode = document.querySelector(\"g[id$='node-1']\");\n    get().viewPort?.camera?.centerFitElementIntoView(rootNode as HTMLElement, {\n      elementExtraMarginForZoom: 100,\n    });\n  },\n  setZoomFactor: zoomFactor => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, zoomFactor);\n  },\n  zoomIn: () => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, viewPort.zoomFactor + 0.1);\n  },\n  zoomOut: () => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, viewPort.zoomFactor - 0.1);\n  },\n  centerView: () => {\n    const viewPort = get().viewPort;\n    viewPort?.updateContainerSize();\n\n    const canvas = document.querySelector(\".jsoncrack-canvas\") as HTMLElement | null;\n    if (canvas) {\n      viewPort?.camera?.centerFitElementIntoView(canvas);\n    }\n  },\n  toggleFullscreen: fullscreen => set({ fullscreen }),\n  setViewPort: viewPort => set({ viewPort }),\n}));\n\nexport default useGraph;\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport {\n  ColorPicker,\n  TextInput,\n  SegmentedControl,\n  Group,\n  Modal,\n  Button,\n  Divider,\n  ColorInput,\n} from \"@mantine/core\";\nimport { toBlob, toJpeg, toPng, toSvg } from \"html-to-image\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport toast from \"react-hot-toast\";\nimport { FiCopy, FiDownload } from \"react-icons/fi\";\n\nenum Extensions {\n  SVG = \"svg\",\n  PNG = \"png\",\n  JPEG = \"jpeg\",\n}\n\nconst getDownloadFormat = (format: Extensions) => {\n  switch (format) {\n    case Extensions.SVG:\n      return toSvg;\n    case Extensions.PNG:\n      return toPng;\n    case Extensions.JPEG:\n      return toJpeg;\n  }\n};\n\nconst swatches = [\n  \"#B80000\",\n  \"#DB3E00\",\n  \"#FCCB00\",\n  \"#008B02\",\n  \"#006B76\",\n  \"#1273DE\",\n  \"#004DCF\",\n  \"#5300EB\",\n  \"#EB9694\",\n  \"#FAD0C3\",\n  \"#FEF3BD\",\n  \"#C1E1C5\",\n  \"#BEDADC\",\n  \"#C4DEF6\",\n  \"#BED3F3\",\n  \"#D4C4FB\",\n  \"transparent\",\n];\n\nfunction downloadURI(uri: string, name: string) {\n  const link = document.createElement(\"a\");\n\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n\nexport const DownloadModal = ({ opened, onClose }: ModalProps) => {\n  const [extension, setExtension] = React.useState(Extensions.PNG);\n  const [fileDetails, setFileDetails] = React.useState({\n    filename: \"jsoncrack.com\",\n    backgroundColor: \"#FFFFFF\",\n    quality: 1,\n  });\n\n  const clipboardImage = async () => {\n    try {\n      toast.loading(\"Copying to clipboard...\", { id: \"toastClipboard\" });\n\n      const imageElement = document.querySelector(\"svg[id*='ref']\") as HTMLElement;\n\n      const blob = await toBlob(imageElement, {\n        quality: fileDetails.quality,\n        backgroundColor: fileDetails.backgroundColor,\n      });\n\n      if (!blob) return;\n\n      await navigator.clipboard?.write([\n        new ClipboardItem({\n          [blob.type]: blob,\n        }),\n      ]);\n\n      toast.success(\"Copied to clipboard\");\n      gaEvent(\"clipboard_img\");\n    } catch (error) {\n      if (error instanceof Error && error.name === \"NotAllowedError\") {\n        toast.error(\n          \"Clipboard write permission denied. Please allow clipboard access in your browser settings.\"\n        );\n      } else {\n        toast.error(\"Failed to copy to clipboard\");\n      }\n    } finally {\n      toast.dismiss(\"toastClipboard\");\n      onClose();\n    }\n  };\n\n  const exportAsImage = async () => {\n    try {\n      toast.loading(\"Downloading...\", { id: \"toastDownload\" });\n\n      const imageElement = document.querySelector(\"svg[id*='ref']\") as HTMLElement;\n\n      const dataURI = await getDownloadFormat(extension)(imageElement, {\n        quality: fileDetails.quality,\n        backgroundColor: fileDetails.backgroundColor,\n      });\n\n      downloadURI(dataURI, `${fileDetails.filename}.${extension}`);\n      gaEvent(\"download_img\", { label: extension });\n    } catch (error) {\n      toast.error(\"Failed to download image!\");\n    } finally {\n      toast.dismiss(\"toastDownload\");\n      onClose();\n    }\n  };\n\n  const updateDetails = (key: keyof typeof fileDetails, value: string | number) =>\n    setFileDetails({ ...fileDetails, [key]: value });\n\n  return (\n    <Modal opened={opened} onClose={onClose} title=\"Download Image\" centered>\n      <TextInput\n        label=\"File Name\"\n        value={fileDetails.filename}\n        onChange={e => updateDetails(\"filename\", e.target.value)}\n        mb=\"lg\"\n      />\n      <SegmentedControl\n        value={extension}\n        onChange={e => setExtension(e as Extensions)}\n        fullWidth\n        data={[\n          { label: \"PNG\", value: Extensions.PNG },\n          { label: \"JPEG\", value: Extensions.JPEG },\n          { label: \"SVG\", value: Extensions.SVG },\n        ]}\n        mb=\"lg\"\n      />\n      <ColorInput\n        label=\"Background Color\"\n        value={fileDetails.backgroundColor}\n        onChange={color => updateDetails(\"backgroundColor\", color)}\n        withEyeDropper={false}\n        mb=\"lg\"\n      />\n      <ColorPicker\n        format=\"rgba\"\n        value={fileDetails.backgroundColor}\n        onChange={color => updateDetails(\"backgroundColor\", color)}\n        swatches={swatches}\n        withPicker={false}\n        fullWidth\n      />\n      <Divider my=\"xs\" />\n      <Group justify=\"right\">\n        <Button leftSection={<FiCopy />} onClick={clipboardImage}>\n          Clipboard\n        </Button>\n        <Button color=\"green\" leftSection={<FiDownload />} onClick={exportAsImage}>\n          Download\n        </Button>\n      </Group>\n    </Modal>\n  );\n};\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Modal, Group, Button, TextInput, Stack, Paper, Text } from \"@mantine/core\";\nimport { Dropzone } from \"@mantine/dropzone\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport toast from \"react-hot-toast\";\nimport { AiOutlineUpload } from \"react-icons/ai\";\nimport type { FileFormat } from \"../../../enums/file.enum\";\nimport useFile from \"../../../store/useFile\";\n\nexport const ImportModal = ({ opened, onClose }: ModalProps) => {\n  const [url, setURL] = React.useState(\"\");\n  const [file, setFile] = React.useState<File | null>(null);\n\n  const setContents = useFile(state => state.setContents);\n  const setFormat = useFile(state => state.setFormat);\n\n  const handleImportFile = () => {\n    if (url) {\n      setFile(null);\n\n      toast.loading(\"Loading...\", { id: \"toastFetch\" });\n      gaEvent(\"fetch_url\");\n\n      return fetch(url)\n        .then(res => res.json())\n        .then(json => {\n          setContents({ contents: JSON.stringify(json, null, 2) });\n          onClose();\n        })\n        .catch(() => toast.error(\"Failed to fetch JSON!\"))\n        .finally(() => toast.dismiss(\"toastFetch\"));\n    } else if (file) {\n      const lastIndex = file.name.lastIndexOf(\".\");\n      const format = file.name.substring(lastIndex + 1);\n      setFormat(format as FileFormat);\n\n      file.text().then(text => {\n        setContents({ contents: text });\n        setFile(null);\n        setURL(\"\");\n        onClose();\n      });\n\n      gaEvent(\"import_file\", { label: format });\n    }\n  };\n\n  return (\n    <Modal\n      title=\"Import File\"\n      opened={opened}\n      onClose={() => {\n        setFile(null);\n        setURL(\"\");\n        onClose();\n      }}\n      centered\n    >\n      <Stack py=\"sm\">\n        <TextInput\n          value={url}\n          onChange={e => setURL(e.target.value)}\n          type=\"url\"\n          placeholder=\"URL of JSON to fetch\"\n          data-autofocus\n        />\n        <Paper radius=\"md\" style={{ cursor: \"pointer\" }}>\n          <Dropzone\n            onDrop={files => setFile(files[0])}\n            onReject={files => toast.error(`Unable to load file ${files[0].file.name}`)}\n            maxFiles={1}\n            p=\"md\"\n            accept={[\n              \"application/json\",\n              \"application/x-yaml\",\n              \"text/csv\",\n              \"application/xml\",\n              \"application/toml\",\n            ]}\n          >\n            <Stack justify=\"center\" align=\"center\" gap=\"sm\" mih={220}>\n              <AiOutlineUpload size={48} />\n              <Text fw=\"bold\">Drop here or click to upload files</Text>\n              <Text c=\"dimmed\" fz=\"sm\">\n                {file?.name ?? \"None\"}\n              </Text>\n            </Stack>\n          </Dropzone>\n        </Paper>\n      </Stack>\n      <Group justify=\"right\">\n        <Button onClick={handleImportFile} disabled={!(file || url)}>\n          Import\n        </Button>\n      </Group>\n    </Modal>\n  );\n};\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Modal, Stack, Text, ScrollArea, Flex, CloseButton } from \"@mantine/core\";\nimport { CodeHighlight } from \"@mantine/code-highlight\";\nimport type { NodeData } from \"../../../types/graph\";\nimport useGraph from \"../../editor/views/GraphView/stores/useGraph\";\n\n// return object from json removing array and object fields\nconst normalizeNodeData = (nodeRows: NodeData[\"text\"]) => {\n  if (!nodeRows || nodeRows.length === 0) return \"{}\";\n  if (nodeRows.length === 1 && !nodeRows[0].key) return `${nodeRows[0].value}`;\n\n  const obj = {};\n  nodeRows?.forEach(row => {\n    if (row.type !== \"array\" && row.type !== \"object\") {\n      if (row.key) obj[row.key] = row.value;\n    }\n  });\n  return JSON.stringify(obj, null, 2);\n};\n\n// return json path in the format $[\"customer\"]\nconst jsonPathToString = (path?: NodeData[\"path\"]) => {\n  if (!path || path.length === 0) return \"$\";\n  const segments = path.map(seg => (typeof seg === \"number\" ? seg : `\"${seg}\"`));\n  return `$[${segments.join(\"][\")}]`;\n};\n\nexport const NodeModal = ({ opened, onClose }: ModalProps) => {\n  const nodeData = useGraph(state => state.selectedNode);\n\n  return (\n    <Modal size=\"auto\" opened={opened} onClose={onClose} centered withCloseButton={false}>\n      <Stack pb=\"sm\" gap=\"sm\">\n        <Stack gap=\"xs\">\n          <Flex justify=\"space-between\" align=\"center\">\n            <Text fz=\"xs\" fw={500}>\n              Content\n            </Text>\n            <CloseButton onClick={onClose} />\n          </Flex>\n          <ScrollArea.Autosize mah={250} maw={600}>\n            <CodeHighlight\n              code={normalizeNodeData(nodeData?.text ?? [])}\n              miw={350}\n              maw={600}\n              language=\"json\"\n              withCopyButton\n            />\n          </ScrollArea.Autosize>\n        </Stack>\n        <Text fz=\"xs\" fw={500}>\n          JSON Path\n        </Text>\n        <ScrollArea.Autosize maw={600}>\n          <CodeHighlight\n            code={jsonPathToString(nodeData?.path)}\n            miw={350}\n            mah={250}\n            language=\"json\"\n            copyLabel=\"Copy to clipboard\"\n            copiedLabel=\"Copied to clipboard\"\n            withCopyButton\n          />\n        </ScrollArea.Autosize>\n      </Stack>\n    </Modal>\n  );\n};\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Modal, Button, Textarea, Group } from \"@mantine/core\";\nimport { decode } from \"jsonwebtoken\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport useFile from \"../../../store/useFile\";\n\nexport const JWTModal = ({ opened, onClose }: ModalProps) => {\n  const setContents = useFile(state => state.setContents);\n  const [token, setToken] = React.useState(\"\");\n\n  const resolve = () => {\n    if (!token) return;\n    const json = decode(token);\n    setContents({ contents: JSON.stringify(json, null, 2) });\n\n    gaEvent(\"resolve_jwt\");\n    setToken(\"\");\n    onClose();\n  };\n\n  return (\n    <Modal title=\"Decode JSON Web Token\" opened={opened} onClose={onClose} centered>\n      <Textarea\n        placeholder=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6Ikhlcm93YW5kIiwidXJsIjoiaHR0cHM6Ly9oZXJvd2FuZC5jb20iLCJpYXQiOjE1MTYyMzkwMjJ9.Tmm3Miq6KWCF_QRn3iERhhXThJzv4LQPKYwBhYUld88\"\n        value={token}\n        onChange={e => setToken(e.target.value)}\n        autosize\n        minRows={5}\n        data-autofocus\n      />\n      <Group mt=\"xs\" justify=\"right\">\n        <Button onClick={resolve} disabled={!token}>\n          Resolve\n        </Button>\n      </Group>\n    </Modal>\n  );\n};\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Stack, Modal, Button, Text, Anchor, Menu, Group, Paper } from \"@mantine/core\";\nimport Editor from \"@monaco-editor/react\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { toast } from \"react-hot-toast\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport { VscLinkExternal } from \"react-icons/vsc\";\nimport { FileFormat } from \"../../../enums/file.enum\";\nimport useConfig from \"../../../store/useConfig\";\nimport useFile from \"../../../store/useFile\";\n\nexport const SchemaModal = ({ opened, onClose }: ModalProps) => {\n  const setContents = useFile(state => state.setContents);\n  const setJsonSchema = useFile(state => state.setJsonSchema);\n  const darkmodeEnabled = useConfig(state => (state.darkmodeEnabled ? \"vs-dark\" : \"light\"));\n  const [schema, setSchema] = React.useState(\n    JSON.stringify(\n      {\n        $schema: \"http://json-schema.org/draft-04/schema#\",\n        title: \"Product\",\n        description: \"A product from catalog\",\n        type: \"object\",\n        properties: {\n          id: {\n            description: \"The unique identifier for a product\",\n            type: \"integer\",\n          },\n        },\n        required: [\"id\"],\n      },\n      null,\n      2\n    )\n  );\n\n  const onApply = () => {\n    try {\n      const parsedSchema = JSON.parse(schema);\n      setJsonSchema(parsedSchema);\n\n      gaEvent(\"apply_json_schema\");\n      toast.success(\"Applied schema!\");\n      onClose();\n    } catch (error) {\n      toast.error(\"Invalid Schema\");\n    }\n  };\n\n  const onClear = () => {\n    setJsonSchema(null);\n    setSchema(\"\");\n    toast(\"Disabled JSON Schema\");\n    onClose();\n  };\n\n  const generateMockData = async () => {\n    try {\n      const { JSONSchemaFaker } = await import(\"json-schema-faker\");\n      const data = JSONSchemaFaker.generate(JSON.parse(schema));\n      setContents({ contents: JSON.stringify(data, null, 2), format: FileFormat.JSON });\n\n      gaEvent(\"generate_schema_mock_data\");\n      onClose();\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Invalid Schema\");\n    }\n  };\n\n  return (\n    <Modal title=\"JSON Schema\" size=\"lg\" opened={opened} onClose={onClose} centered>\n      <Stack>\n        <Text fz=\"sm\">Any validation failures are shown at the bottom toolbar of pane.</Text>\n        <Anchor\n          fz=\"sm\"\n          target=\"_blank\"\n          href=\"https://niem.github.io/json/sample-schema/\"\n          rel=\"noopener noreferrer\"\n        >\n          View Examples <VscLinkExternal />\n        </Anchor>\n        <Paper withBorder radius=\"sm\" style={{ overflow: \"hidden\" }}>\n          <Editor\n            value={schema ?? \"\"}\n            theme={darkmodeEnabled}\n            onChange={e => setSchema(e!)}\n            height={300}\n            language=\"json\"\n            options={{\n              formatOnPaste: true,\n              tabSize: 2,\n              formatOnType: true,\n              scrollBeyondLastLine: false,\n              stickyScroll: { enabled: false },\n              minimap: { enabled: false },\n            }}\n          />\n        </Paper>\n        <Group p=\"0\" justify=\"right\">\n          <Button variant=\"subtle\" color=\"gray\" onClick={onClear} disabled={!schema}>\n            Clear\n          </Button>\n          <Button.Group>\n            <Button variant=\"default\" onClick={onApply} disabled={!schema}>\n              Apply\n            </Button>\n            <Menu>\n              <Menu.Target>\n                <Button variant=\"default\" color=\"blue\" px=\"xs\" disabled={!schema}>\n                  <FaChevronDown />\n                </Button>\n              </Menu.Target>\n              <Menu.Dropdown>\n                <Menu.Item onClick={generateMockData}>Generate Mock Data</Menu.Item>\n              </Menu.Dropdown>\n            </Menu>\n          </Button.Group>\n        </Group>\n      </Stack>\n    </Modal>\n  );\n};\n","import toast from \"react-hot-toast\";\nimport useFile from \"../store/useFile\";\nimport useJson from \"../store/useJson\";\n\nconst useJsonQuery = () => {\n  const getJson = useJson(state => state.getJson);\n  const setContents = useFile(state => state.setContents);\n\n  const transformer = async ({ value }) => {\n    const { run } = await import(\"json_typegen_wasm\");\n    return run(\"Root\", value, JSON.stringify({ output_mode: \"typescript/typealias\" }));\n  };\n\n  const updateJson = async (query: string, cb?: () => void) => {\n    try {\n      const jq = await import(\"jq-web\");\n      const res = await jq.promised.json(JSON.parse(getJson()), query);\n\n      setContents({ contents: JSON.stringify(res, null, 2) });\n      cb?.();\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Unable to process the request.\");\n    }\n  };\n\n  const getJsonType = async () => {\n    const types = await transformer({ value: getJson() });\n    return types;\n  };\n\n  return { updateJson, getJsonType };\n};\n\nexport default useJsonQuery;\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Stack, Modal, Button, Text, Anchor, Group, TextInput } from \"@mantine/core\";\nimport { VscLinkExternal } from \"react-icons/vsc\";\nimport useJsonQuery from \"../../../hooks/useJsonQuery\";\n\nexport const JQModal = ({ opened, onClose }: ModalProps) => {\n  const { updateJson } = useJsonQuery();\n  const [query, setQuery] = React.useState(\"\");\n\n  return (\n    <Modal title=\"JSON Query\" size=\"lg\" opened={opened} onClose={onClose} centered>\n      <Stack>\n        <Text fz=\"sm\">\n          jq is a lightweight and flexible command-line JSON processor. JSON Crack uses simplified\n          version of jq, not all features are supported.\n          <br />\n          <Anchor\n            fz=\"sm\"\n            target=\"_blank\"\n            href=\"https://jqlang.github.io/jq/manual/\"\n            rel=\"noopener noreferrer\"\n          >\n            Read documentation. <VscLinkExternal />\n          </Anchor>\n        </Text>\n        <TextInput\n          leftSection=\"jq\"\n          placeholder=\"Enter jq query\"\n          value={query}\n          onChange={e => setQuery(e.currentTarget.value)}\n        />\n        <Group justify=\"right\">\n          <Button onClick={() => updateJson(query, onClose)}>Display on Graph</Button>\n        </Group>\n      </Stack>\n    </Modal>\n  );\n};\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Stack, Modal, Select, ScrollArea } from \"@mantine/core\";\nimport { CodeHighlight } from \"@mantine/code-highlight\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport useJson from \"../../../store/useJson\";\n\nenum Language {\n  TypeScript = \"typescript\",\n  TypeScript_Combined = \"typescript/typealias\",\n  Go = \"go\",\n  JSON_SCHEMA = \"json_schema\",\n  Kotlin = \"kotlin\",\n  Rust = \"rust\",\n}\n\nconst typeOptions = [\n  {\n    label: \"TypeScript\",\n    value: Language.TypeScript,\n    lang: \"typescript\",\n  },\n  {\n    label: \"TypeScript (combined)\",\n    value: Language.TypeScript_Combined,\n    lang: \"typescript\",\n  },\n  {\n    label: \"Go\",\n    value: Language.Go,\n    lang: \"go\",\n  },\n  {\n    label: \"JSON Schema\",\n    value: Language.JSON_SCHEMA,\n    lang: \"json\",\n  },\n  {\n    label: \"Kotlin\",\n    value: Language.Kotlin,\n    lang: \"kotlin\",\n  },\n  {\n    label: \"Rust\",\n    value: Language.Rust,\n    lang: \"rust\",\n  },\n];\n\nexport const TypeModal = ({ opened, onClose }: ModalProps) => {\n  const getJson = useJson(state => state.getJson);\n  const [type, setType] = React.useState(\"\");\n  const [selectedType, setSelectedType] = React.useState<Language>(Language.TypeScript);\n\n  const editorLanguage = React.useMemo(() => {\n    return typeOptions[typeOptions.findIndex(o => o.value === selectedType)]?.lang;\n  }, [selectedType]);\n\n  const transformer = React.useCallback(\n    async ({ value }) => {\n      const { run } = await import(\"json_typegen_wasm\");\n      return run(\n        \"Root\",\n        value,\n        JSON.stringify({\n          output_mode: selectedType,\n        })\n      );\n    },\n    [selectedType]\n  );\n\n  React.useEffect(() => {\n    if (opened) {\n      try {\n        if (selectedType === Language.Go) {\n          import(\"../../../lib/utils/json2go\").then(jtg => {\n            import(\"gofmt.js\").then(gofmt => {\n              const types = jtg.default(getJson());\n              setType(gofmt.default(types.go));\n            });\n          });\n        } else {\n          transformer({ value: getJson() }).then(setType);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }, [getJson, opened, selectedType, transformer]);\n\n  return (\n    <Modal title=\"Generate Types\" size=\"lg\" opened={opened} onClose={onClose} centered>\n      <Stack pos=\"relative\">\n        <Select\n          value={selectedType}\n          data={typeOptions}\n          onChange={e => {\n            setSelectedType(e as Language);\n            gaEvent(\"generate_type\", { label: e as Language });\n          }}\n          allowDeselect={false}\n        />\n        <ScrollArea.Autosize mah={400} maw={700}>\n          <CodeHighlight\n            language={editorLanguage}\n            copyLabel=\"Copy to clipboard\"\n            copiedLabel=\"Copied to clipboard\"\n            code={type}\n            styles={{ root: { borderRadius: 6 } }}\n          />\n        </ScrollArea.Autosize>\n      </Stack>\n    </Modal>\n  );\n};\n","import React from \"react\";\nimport type { ModalProps } from \"@mantine/core\";\nimport { Stack, Modal, Button, Text, Anchor, Group, TextInput } from \"@mantine/core\";\nimport { JSONPath } from \"jsonpath-plus\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport toast from \"react-hot-toast\";\nimport { VscLinkExternal } from \"react-icons/vsc\";\nimport useFile from \"../../../store/useFile\";\nimport useJson from \"../../../store/useJson\";\n\nexport const JPathModal = ({ opened, onClose }: ModalProps) => {\n  const getJson = useJson(state => state.getJson);\n  const setContents = useFile(state => state.setContents);\n  const [query, setQuery] = React.useState(\"\");\n\n  const evaluteJsonPath = () => {\n    try {\n      const json = getJson();\n      const result = JSONPath({ path: query, json: JSON.parse(json) });\n\n      setContents({ contents: JSON.stringify(result, null, 2) });\n      gaEvent(\"run_json_path\");\n      onClose();\n    } catch (error) {\n      if (error instanceof Error) toast.error(error.message);\n    }\n  };\n\n  return (\n    <Modal title=\"JSON Path\" size=\"lg\" opened={opened} onClose={onClose} centered>\n      <Stack>\n        <Text fz=\"sm\">\n          JsonPath expressions always refer to a JSON structure in the same way as XPath expression\n          are used in combination with an XML document. The &quot;root member object&quot; in\n          JsonPath is always referred to as $ regardless if it is an object or array.\n          <br />\n          <Anchor\n            fz=\"sm\"\n            target=\"_blank\"\n            href=\"https://docs.oracle.com/cd/E60058_01/PDF/8.0.8.x/8.0.8.0.0/PMF_HTML/JsonPath_Expressions.htm\"\n            rel=\"noopener noreferrer\"\n          >\n            Read documentation. <VscLinkExternal />\n          </Anchor>\n        </Text>\n        <TextInput\n          value={query}\n          onChange={e => setQuery(e.currentTarget.value)}\n          placeholder=\"Enter JSON Path...\"\n          data-autofocus\n        />\n        <Group justify=\"right\">\n          <Button onClick={evaluteJsonPath} disabled={!query.length}>\n            Run\n          </Button>\n        </Group>\n      </Stack>\n    </Modal>\n  );\n};\n","export { DownloadModal } from \"./DownloadModal\";\nexport { ImportModal } from \"./ImportModal\";\nexport { NodeModal } from \"./NodeModal\";\nexport { JWTModal } from \"./JWTModal\";\nexport { SchemaModal } from \"./SchemaModal\";\nexport { JQModal } from \"./JQModal\";\nexport { TypeModal } from \"./TypeModal\";\nexport { JPathModal } from \"./JPathModal\";\n","import * as ModalComponents from \".\";\n\n// Define the modals array separate from the component logic\nexport const modals = Object.freeze(Object.keys(ModalComponents)) as Extract<\n  keyof typeof ModalComponents,\n  string\n>[];\n\nexport type ModalName = (typeof modals)[number];\n","import React, { useEffect } from \"react\";\nimport localFont from \"next/font/local\";\nimport Link from \"next/link\";\nimport { Image } from \"@mantine/core\";\nimport styled from \"styled-components\";\n\nconst monaSans = localFont({\n  src: \"../assets/fonts/Mona-Sans.woff2\",\n  variable: \"--mona-sans\",\n  display: \"swap\",\n  fallback: [\"Futura, Helvetica, sans-serif\", \"Tahoma, Verdana, sans-serif\"],\n});\n\nconst StyledLogoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst StyledTitle = styled.span<{ fontSize: string }>`\n  font-weight: 800;\n  margin: 0;\n  font-family: ${monaSans.style.fontFamily} !important;\n  font-size: ${({ fontSize }) => fontSize};\n  white-space: nowrap;\n  z-index: 10;\n  vertical-align: middle;\n  color: white;\n  mix-blend-mode: difference;\n`;\n\ninterface LogoProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  fontSize?: string;\n  hideLogo?: boolean;\n  hideText?: boolean;\n}\n\nexport const JSONCrackLogo = ({ fontSize = \"1.2rem\", hideText, hideLogo, ...props }: LogoProps) => {\n  const [isIframe, setIsIframe] = React.useState(false);\n\n  useEffect(() => {\n    setIsIframe(window !== undefined && window.location.href.includes(\"widget\"));\n  }, []);\n\n  return (\n    <Link href=\"/\" prefetch={false} target={isIframe ? \"_blank\" : \"_self\"}>\n      <StyledLogoWrapper>\n        {!hideLogo && (\n          <Image\n            src=\"/assets/192.png\"\n            loading=\"eager\"\n            width={parseFloat(fontSize) * 18}\n            height={parseFloat(fontSize) * 18}\n            alt=\"logo\"\n            radius={4}\n            mb=\"2\"\n          />\n        )}\n        {!hideText && (\n          <StyledTitle fontSize={fontSize} {...props}>\n            JSON CRACK\n          </StyledTitle>\n        )}\n      </StyledLogoWrapper>\n    </Link>\n  );\n};\n","import type { ParseError } from \"jsonc-parser\";\nimport { FileFormat } from \"../../enums/file.enum\";\n\nexport const contentToJson = (value: string, format = FileFormat.JSON): Promise<object> => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!value) return resolve({});\n\n      if (format === FileFormat.JSON) {\n        const { parse } = await import(\"jsonc-parser\");\n        const errors: ParseError[] = [];\n        const result = parse(value, errors);\n        if (errors.length > 0) JSON.parse(value);\n        return resolve(result);\n      }\n\n      if (format === FileFormat.YAML) {\n        const { load } = await import(\"js-yaml\");\n        return resolve(load(value) as object);\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLParser } = await import(\"fast-xml-parser\");\n        const parser = new XMLParser({\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n          allowBooleanAttributes: true,\n          parseAttributeValue: true,\n          trimValues: true,\n          parseTagValue: true,\n        });\n        return resolve(parser.parse(value));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { csv2json } = await import(\"json-2-csv\");\n        const result = csv2json(value, {\n          trimFieldValues: true,\n          trimHeaderFields: true,\n          wrapBooleans: true,\n          excelBOM: true,\n        });\n        return resolve(result);\n      }\n\n      return resolve({});\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to parse content\";\n      return reject(errorMessage);\n    }\n  });\n};\n\nexport const jsonToContent = async (json: string, format: FileFormat): Promise<string> => {\n  return new Promise(async resolve => {\n    try {\n      if (!json) return resolve(\"\");\n\n      if (format === FileFormat.JSON) {\n        const parsedJson = JSON.parse(json);\n        return resolve(JSON.stringify(parsedJson, null, 2));\n      }\n\n      if (format === FileFormat.YAML) {\n        const { dump } = await import(\"js-yaml\");\n        const { parse } = await import(\"jsonc-parser\");\n        return resolve(dump(parse(json)));\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLBuilder } = await import(\"fast-xml-parser\");\n        const builder = new XMLBuilder({\n          format: true,\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n        });\n\n        return resolve(builder.build(JSON.parse(json)));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { json2csv } = await import(\"json-2-csv\");\n        const parsedJson = JSON.parse(json);\n\n        const data = Array.isArray(parsedJson) ? parsedJson : [parsedJson];\n        return resolve(\n          json2csv(data, {\n            expandArrayObjects: true,\n            expandNestedObjects: true,\n            excelBOM: true,\n            wrapBooleans: true,\n            trimFieldValues: true,\n            trimHeaderFields: true,\n          })\n        );\n      }\n\n      return resolve(json);\n    } catch (error) {\n      console.error(json, error);\n      return resolve(json);\n    }\n  });\n};\n","import React from \"react\";\nimport { Flex, Menu, Popover, Text } from \"@mantine/core\";\nimport styled from \"styled-components\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { BiSolidDockLeft } from \"react-icons/bi\";\nimport { IoMdCheckmark } from \"react-icons/io\";\nimport { MdArrowUpward } from \"react-icons/md\";\nimport { VscCheck, VscError, VscRunAll, VscSync, VscSyncIgnored } from \"react-icons/vsc\";\nimport { formats } from \"../../enums/file.enum\";\nimport useConfig from \"../../store/useConfig\";\nimport useFile from \"../../store/useFile\";\nimport useGraph from \"./views/GraphView/stores/useGraph\";\n\nconst StyledBottomBar = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-top: 1px solid ${({ theme }) => theme.BACKGROUND_MODIFIER_ACCENT};\n  background: ${({ theme }) => theme.TOOLBAR_BG};\n  max-height: 27px;\n  height: 27px;\n  z-index: 35;\n  padding-right: 6px;\n\n  @media screen and (max-width: 320px) {\n    display: none;\n  }\n`;\n\nconst StyledLeft = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  gap: 4px;\n  padding-left: 8px;\n\n  @media screen and (max-width: 480px) {\n    display: none;\n  }\n`;\n\nconst StyledRight = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: right;\n  gap: 4px;\n`;\n\nconst StyledBottomBarItem = styled.button<{ $bg?: string }>`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  width: fit-content;\n  margin: 0;\n  height: 28px;\n  padding: 4px;\n  font-size: 12px;\n  font-weight: 400;\n  color: ${({ theme }) => theme.INTERACTIVE_NORMAL};\n  background: ${({ $bg }) => $bg};\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:hover:not(&:disabled) {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n    color: ${({ theme }) => theme.INTERACTIVE_HOVER};\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: default;\n  }\n`;\n\nexport const BottomBar = () => {\n  const data = useFile(state => state.fileData);\n  const toggleLiveTransform = useConfig(state => state.toggleLiveTransform);\n  const liveTransformEnabled = useConfig(state => state.liveTransformEnabled);\n  const error = useFile(state => state.error);\n  const setContents = useFile(state => state.setContents);\n  const toggleFullscreen = useGraph(state => state.toggleFullscreen);\n  const fullscreen = useGraph(state => state.fullscreen);\n  const setFormat = useFile(state => state.setFormat);\n  const currentFormat = useFile(state => state.format);\n\n  const toggleEditor = () => {\n    toggleFullscreen(!fullscreen);\n    gaEvent(\"toggle_fullscreen\");\n  };\n\n  React.useEffect(() => {\n    if (data?.name) window.document.title = `${data.name} | JSON Crack`;\n  }, [data]);\n\n  return (\n    <StyledBottomBar>\n      <StyledLeft>\n        <StyledBottomBarItem onClick={toggleEditor}>\n          <BiSolidDockLeft />\n        </StyledBottomBarItem>\n        <StyledBottomBarItem>\n          {error ? (\n            <Popover width=\"auto\" shadow=\"md\" position=\"top\" withArrow>\n              <Popover.Target>\n                <Flex align=\"center\" gap={2}>\n                  <VscError color=\"red\" />\n                  <Text c=\"red\" fw={500} fz=\"xs\">\n                    Invalid\n                  </Text>\n                </Flex>\n              </Popover.Target>\n              <Popover.Dropdown style={{ pointerEvents: \"none\" }}>\n                <Text size=\"xs\">{error}</Text>\n              </Popover.Dropdown>\n            </Popover>\n          ) : (\n            <Flex align=\"center\" gap={2}>\n              <VscCheck />\n              <Text size=\"xs\">Valid</Text>\n            </Flex>\n          )}\n        </StyledBottomBarItem>\n        <StyledBottomBarItem\n          onClick={() => {\n            toggleLiveTransform(!liveTransformEnabled);\n            gaEvent(\"toggle_live_transform\");\n          }}\n        >\n          {liveTransformEnabled ? <VscSync /> : <VscSyncIgnored />}\n          <Text fz=\"xs\">Live Transform</Text>\n        </StyledBottomBarItem>\n        {!liveTransformEnabled && (\n          <StyledBottomBarItem onClick={() => setContents({})} disabled={!!error}>\n            <VscRunAll />\n            Click to Transform\n          </StyledBottomBarItem>\n        )}\n      </StyledLeft>\n\n      <StyledRight>\n        <Menu offset={8}>\n          <Menu.Target>\n            <StyledBottomBarItem>\n              <Flex align=\"center\" gap={2}>\n                <MdArrowUpward />\n                <Text size=\"xs\">{currentFormat?.toUpperCase()}</Text>\n              </Flex>\n            </StyledBottomBarItem>\n          </Menu.Target>\n          <Menu.Dropdown>\n            {formats.map(format => (\n              <Menu.Item\n                key={format.value}\n                fz={12}\n                onClick={() => setFormat(format.value)}\n                rightSection={currentFormat === format.value && <IoMdCheckmark />}\n              >\n                {format.label}\n              </Menu.Item>\n            ))}\n          </Menu.Dropdown>\n        </Menu>\n      </StyledRight>\n    </StyledBottomBar>\n  );\n};\n","import React from \"react\";\nimport { Group, Text } from \"@mantine/core\";\nimport { Dropzone } from \"@mantine/dropzone\";\nimport toast from \"react-hot-toast\";\nimport { VscCircleSlash, VscFiles } from \"react-icons/vsc\";\nimport { FileFormat } from \"../../enums/file.enum\";\nimport useFile from \"../../store/useFile\";\n\nexport const FullscreenDropzone = () => {\n  const setContents = useFile(state => state.setContents);\n\n  return (\n    <Dropzone.FullScreen\n      maxFiles={1}\n      accept={[\n        \"application/json\",\n        \"application/x-yaml\",\n        \"text/csv\",\n        \"application/xml\",\n        \"application/toml\",\n      ]}\n      onReject={files => toast.error(`Unable to load file ${files[0].file.name}`)}\n      onDrop={async e => {\n        try {\n          const fileContent = await e[0].text();\n          let fileExtension = e[0].name.split(\".\").pop() as FileFormat | undefined;\n          if (!fileExtension) fileExtension = FileFormat.JSON;\n          setContents({ contents: fileContent, format: fileExtension, hasChanges: false });\n        } catch (err) {\n          toast.error(\"An error occurred while reading the file.\");\n          console.error(err);\n        }\n      }}\n    >\n      <Group\n        justify=\"center\"\n        ta=\"center\"\n        align=\"center\"\n        gap=\"xl\"\n        h=\"100vh\"\n        style={{ pointerEvents: \"none\" }}\n      >\n        <Dropzone.Accept>\n          <VscFiles size={100} />\n          <Text fz=\"h1\" fw={500} mt=\"lg\">\n            Upload to JSON Crack\n          </Text>\n          <Text fz=\"lg\" c=\"dimmed\" mt=\"sm\">\n            (Max file size: 300 KB)\n          </Text>\n        </Dropzone.Accept>\n        <Dropzone.Reject>\n          <VscCircleSlash size={100} />\n          <Text fz=\"h1\" fw={500} mt=\"lg\">\n            Invalid file\n          </Text>\n          <Text fz=\"lg\" c=\"dimmed\" mt=\"sm\">\n            Allowed formats are JSON, YAML, CSV, XML, TOML\n          </Text>\n        </Dropzone.Reject>\n      </Group>\n    </Dropzone.FullScreen>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const StyledToolElement = styled.button<{ $hide?: boolean; $highlight?: boolean }>`\n  display: ${({ $hide }) => ($hide ? \"none\" : \"flex\")};\n  align-items: center;\n  gap: 4px;\n  place-content: center;\n  font-size: 12px;\n  background: ${({ $highlight }) =>\n    $highlight ? \"linear-gradient(rgba(0, 0, 0, 0.1) 0 0)\" : \"none\"};\n  color: ${({ theme }) => theme.INTERACTIVE_NORMAL};\n  padding: 6px;\n  border-radius: 3px;\n  white-space: nowrap;\n\n  &:hover {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n  }\n\n  &:hover {\n    color: ${({ theme }) => theme.INTERACTIVE_HOVER};\n    opacity: 1;\n    box-shadow: none;\n  }\n`;\n","import React from \"react\";\nimport { Flex, Menu } from \"@mantine/core\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { CgChevronDown } from \"react-icons/cg\";\nimport useFile from \"../../../store/useFile\";\nimport { useModal } from \"../../../store/useModal\";\nimport { StyledToolElement } from \"./styles\";\n\nexport const FileMenu = () => {\n  const setVisible = useModal(state => state.setVisible);\n  const getContents = useFile(state => state.getContents);\n  const getFormat = useFile(state => state.getFormat);\n\n  const handleSave = () => {\n    const a = document.createElement(\"a\");\n    const file = new Blob([getContents()], { type: \"text/plain\" });\n\n    a.href = window.URL.createObjectURL(file);\n    a.download = `jsoncrack.${getFormat()}`;\n    a.click();\n\n    gaEvent(\"save_file\", { label: getFormat() });\n  };\n\n  return (\n    <Menu shadow=\"md\" withArrow>\n      <Menu.Target>\n        <StyledToolElement title=\"File\">\n          <Flex align=\"center\" gap={3}>\n            File\n            <CgChevronDown />\n          </Flex>\n        </StyledToolElement>\n      </Menu.Target>\n      <Menu.Dropdown>\n        <Menu.Item fz={12} onClick={() => setVisible(\"ImportModal\", true)}>\n          Import\n        </Menu.Item>\n        <Menu.Item fz={12} onClick={handleSave}>\n          Export\n        </Menu.Item>\n      </Menu.Dropdown>\n    </Menu>\n  );\n};\n","import React from \"react\";\nimport { Menu, Flex } from \"@mantine/core\";\nimport { JSONSchemaFaker } from \"json-schema-faker\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport toast from \"react-hot-toast\";\nimport { CgChevronDown } from \"react-icons/cg\";\nimport { FaRandom } from \"react-icons/fa\";\nimport { MdFilterListAlt } from \"react-icons/md\";\nimport { SiJsonwebtokens } from \"react-icons/si\";\nimport { VscSearchFuzzy, VscJson, VscGroupByRefType } from \"react-icons/vsc\";\nimport { jsonToContent } from \"../../../lib/utils/jsonAdapter\";\nimport useFile from \"../../../store/useFile\";\nimport useJson from \"../../../store/useJson\";\nimport { useModal } from \"../../../store/useModal\";\nimport { StyledToolElement } from \"./styles\";\n\nexport const ToolsMenu = () => {\n  const setVisible = useModal(state => state.setVisible);\n  const getJson = useJson(state => state.getJson);\n  const setContents = useFile(state => state.setContents);\n  const getFormat = useFile(state => state.getFormat);\n\n  const randomizeData = async () => {\n    try {\n      // generate json schema\n      const { run } = await import(\"json_typegen_wasm\");\n      const jsonSchema = run(\n        \"Root\",\n        getJson(),\n        JSON.stringify({\n          output_mode: \"json_schema\",\n        })\n      );\n\n      // generate random data\n      const randomJson = JSONSchemaFaker.generate(JSON.parse(jsonSchema));\n      const contents = await jsonToContent(JSON.stringify(randomJson, null, 2), getFormat());\n      setContents({ contents });\n\n      gaEvent(\"randomize_data\");\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to generate mock data\");\n    }\n  };\n\n  return (\n    <Menu shadow=\"md\" withArrow>\n      <Menu.Target>\n        <StyledToolElement onClick={() => gaEvent(\"show_tools_menu\")}>\n          <Flex align=\"center\" gap={3}>\n            Tools <CgChevronDown />\n          </Flex>\n        </StyledToolElement>\n      </Menu.Target>\n      <Menu.Dropdown>\n        <Menu.Item\n          fz={12}\n          leftSection={<VscSearchFuzzy />}\n          onClick={() => {\n            setVisible(\"JQModal\", true);\n            gaEvent(\"open_jq_modal\");\n          }}\n        >\n          JSON Query (jq)\n        </Menu.Item>\n        <Menu.Item\n          fz={12}\n          leftSection={<VscJson />}\n          onClick={() => {\n            setVisible(\"SchemaModal\", true);\n            gaEvent(\"open_schema_modal\");\n          }}\n        >\n          JSON Schema\n        </Menu.Item>\n        <Menu.Item\n          fz={12}\n          leftSection={<MdFilterListAlt />}\n          onClick={() => {\n            setVisible(\"JPathModal\", true);\n            gaEvent(\"open_json_path_modal\");\n          }}\n        >\n          JSON Path\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item\n          fz={12}\n          leftSection={<SiJsonwebtokens />}\n          onClick={() => {\n            setVisible(\"JWTModal\", true);\n            gaEvent(\"open_jwt_modal\");\n          }}\n        >\n          Decode JWT\n        </Menu.Item>\n        <Menu.Item\n          fz={12}\n          leftSection={<VscGroupByRefType />}\n          onClick={() => {\n            setVisible(\"TypeModal\", true);\n            gaEvent(\"open_type_modal\");\n          }}\n        >\n          Generate Type\n        </Menu.Item>\n        <Menu.Item fz={12} leftSection={<FaRandom />} onClick={randomizeData}>\n          Randomize Data\n        </Menu.Item>\n      </Menu.Dropdown>\n    </Menu>\n  );\n};\n","import React from \"react\";\nimport { Menu, Flex, SegmentedControl, Text } from \"@mantine/core\";\nimport { useSessionStorage } from \"@mantine/hooks\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { BsCheck2 } from \"react-icons/bs\";\nimport { CgChevronDown } from \"react-icons/cg\";\nimport { ViewMode } from \"../../../enums/viewMode.enum\";\nimport useConfig from \"../../../store/useConfig\";\nimport { StyledToolElement } from \"./styles\";\n\nexport const ViewMenu = () => {\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\n  const toggleDarkMode = useConfig(state => state.toggleDarkMode);\n  const [viewMode, setViewMode] = useSessionStorage({\n    key: \"viewMode\",\n    defaultValue: ViewMode.Graph,\n  });\n\n  return (\n    <Menu shadow=\"md\" closeOnItemClick={false} withArrow>\n      <Menu.Target>\n        <StyledToolElement onClick={() => gaEvent(\"show_view_menu\")}>\n          <Flex align=\"center\" gap={3}>\n            View <CgChevronDown />\n          </Flex>\n        </StyledToolElement>\n      </Menu.Target>\n      <Menu.Dropdown>\n        <SegmentedControl\n          size=\"xs\"\n          miw=\"120\"\n          w=\"100%\"\n          value={viewMode}\n          onChange={e => {\n            setViewMode(e as ViewMode);\n            gaEvent(\"change_view_mode\", { label: e });\n          }}\n          data={[\n            { value: ViewMode.Graph, label: \"Graph\" },\n            { value: ViewMode.Tree, label: \"Tree\" },\n          ]}\n          fullWidth\n          mb=\"4\"\n        />\n        <Menu.Divider />\n        <Menu.Item\n          leftSection={<BsCheck2 opacity={darkmodeEnabled ? 100 : 0} />}\n          onClick={() => {\n            toggleDarkMode(!darkmodeEnabled);\n            gaEvent(\"toggle_dark_mode\", { label: darkmodeEnabled ? \"on\" : \"off\" });\n          }}\n        >\n          <Text size=\"xs\">Dark Mode</Text>\n        </Menu.Item>\n      </Menu.Dropdown>\n    </Menu>\n  );\n};\n","import React from \"react\";\nimport { Flex, Group } from \"@mantine/core\";\nimport styled from \"styled-components\";\nimport toast from \"react-hot-toast\";\nimport { AiOutlineFullscreen } from \"react-icons/ai\";\nimport { JSONCrackLogo } from \"../../../layout/JsonCrackLogo\";\nimport { FileMenu } from \"./FileMenu\";\nimport { ToolsMenu } from \"./ToolsMenu\";\nimport { ViewMenu } from \"./ViewMenu\";\nimport { StyledToolElement } from \"./styles\";\n\nconst StyledTools = styled.div`\n  position: relative;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  gap: 4px;\n  justify-content: space-between;\n  height: 40px;\n  padding: 4px 8px;\n  background: ${({ theme }) => theme.TOOLBAR_BG};\n  color: ${({ theme }) => theme.SILVER};\n  z-index: 36;\n  border-bottom: 1px solid ${({ theme }) => theme.SILVER_DARK};\n\n  @media only screen and (max-width: 320px) {\n    display: none;\n  }\n`;\n\nfunction fullscreenBrowser() {\n  if (!document.fullscreenElement) {\n    document.documentElement.requestFullscreen().catch(() => {\n      toast.error(\"Unable to enter fullscreen mode.\");\n    });\n  } else if (document.exitFullscreen) {\n    document.exitFullscreen();\n  }\n}\n\nexport const Toolbar = () => {\n  return (\n    <StyledTools>\n      <Group gap=\"xs\" justify=\"left\" w=\"100%\" style={{ flexWrap: \"nowrap\" }}>\n        <StyledToolElement title=\"JSON Crack\">\n          <Flex gap=\"xs\" align=\"center\" justify=\"center\">\n            <JSONCrackLogo fontSize=\"0.8rem\" hideLogo />\n          </Flex>\n        </StyledToolElement>\n        <FileMenu />\n        <ViewMenu />\n        <ToolsMenu />\n      </Group>\n      <Group gap=\"xs\" justify=\"right\" w=\"100%\" style={{ flexWrap: \"nowrap\" }}>\n        <StyledToolElement title=\"Fullscreen\" onClick={fullscreenBrowser}>\n          <AiOutlineFullscreen size=\"18\" />\n        </StyledToolElement>\n      </Group>\n    </StyledTools>\n  );\n};\n","import { useEffect } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { useRouter } from \"next/router\";\nimport { useMantineColorScheme } from \"@mantine/core\";\nimport \"@mantine/dropzone/styles.css\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { Allotment } from \"allotment\";\nimport \"allotment/dist/style.css\";\n// import Cookie from \"js-cookie\";\nimport { NextSeo } from \"next-seo\";\nimport { SEO } from \"../constants/seo\";\nimport { darkTheme, lightTheme } from \"../constants/theme\";\nimport { BottomBar } from \"../features/editor/BottomBar\";\nimport { FullscreenDropzone } from \"../features/editor/FullscreenDropzone\";\nimport { Toolbar } from \"../features/editor/Toolbar\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport useConfig from \"../store/useConfig\";\nimport useFile from \"../store/useFile\";\n\nconst ModalController = dynamic(() => import(\"../features/modals/ModalController\"));\nconst ExternalMode = dynamic(() => import(\"../features/editor/ExternalMode\"));\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: false,\n    },\n  },\n});\n\nexport const StyledPageWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100%;\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nexport const StyledEditorWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nexport const StyledEditor = styled(Allotment)`\n  position: relative !important;\n  display: flex;\n  background: ${({ theme }) => theme.BACKGROUND_SECONDARY};\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nconst StyledTextEditor = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\n\nconst TextEditor = dynamic(() => import(\"../features/editor/TextEditor\"), {\n  ssr: false,\n});\n\nconst LiveEditor = dynamic(() => import(\"../features/editor/LiveEditor\"), {\n  ssr: false,\n});\n\nconst EditorPage = () => {\n  const { query, isReady } = useRouter();\n  const { setColorScheme } = useMantineColorScheme();\n  const checkEditorSession = useFile(state => state.checkEditorSession);\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\n  const fullscreen = useGraph(state => state.fullscreen);\n\n  useEffect(() => {\n    if (isReady) checkEditorSession(query?.json);\n  }, [checkEditorSession, isReady, query]);\n\n  useEffect(() => {\n    setColorScheme(darkmodeEnabled ? \"dark\" : \"light\");\n  }, [darkmodeEnabled, setColorScheme]);\n\n  return (\n    <>\n      <NextSeo\n        {...SEO}\n        title=\"Editor | JSON Crack\"\n        description=\"JSON Crack Editor is a tool for visualizing into graphs, analyzing, editing, formatting, querying, transforming and validating JSON, CSV, YAML, XML, and more.\"\n        canonical=\"https://jsoncrack.com/editor\"\n      />\n      <ThemeProvider theme={darkmodeEnabled ? darkTheme : lightTheme}>\n        <QueryClientProvider client={queryClient}>\n          <ExternalMode />\n          <ModalController />\n          <StyledEditorWrapper>\n            <StyledPageWrapper>\n              <Toolbar />\n              <StyledEditorWrapper>\n                <StyledEditor proportionalLayout={false}>\n                  <Allotment.Pane\n                    preferredSize={450}\n                    minSize={fullscreen ? 0 : 300}\n                    maxSize={800}\n                    visible={!fullscreen}\n                  >\n                    <StyledTextEditor>\n                      <TextEditor />\n                      <BottomBar />\n                    </StyledTextEditor>\n                  </Allotment.Pane>\n                  <Allotment.Pane minSize={0}>\n                    <LiveEditor />\n                  </Allotment.Pane>\n                </StyledEditor>\n                <FullscreenDropzone />\n              </StyledEditorWrapper>\n            </StyledPageWrapper>\n          </StyledEditorWrapper>\n        </QueryClientProvider>\n      </ThemeProvider>\n    </>\n  );\n};\n\nexport default EditorPage;\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\n\nconst initialStates = {\n  darkmodeEnabled: true,\n  imagePreviewEnabled: true,\n  liveTransformEnabled: true,\n  gesturesEnabled: false,\n  rulersEnabled: true,\n};\n\nexport interface ConfigActions {\n  toggleDarkMode: (value: boolean) => void;\n  toggleImagePreview: (value: boolean) => void;\n  toggleLiveTransform: (value: boolean) => void;\n  toggleGestures: (value: boolean) => void;\n  toggleRulers: (value: boolean) => void;\n}\n\nconst useConfig = create(\n  persist<typeof initialStates & ConfigActions>(\n    set => ({\n      ...initialStates,\n      toggleRulers: rulersEnabled => set({ rulersEnabled }),\n      toggleGestures: gesturesEnabled => set({ gesturesEnabled }),\n      toggleLiveTransform: liveTransformEnabled => set({ liveTransformEnabled }),\n      toggleDarkMode: darkmodeEnabled => set({ darkmodeEnabled }),\n      toggleImagePreview: imagePreviewEnabled => {\n        set({ imagePreviewEnabled });\n        useGraph.getState().setGraph();\n      },\n    }),\n    {\n      name: \"config\",\n    }\n  )\n);\n\nexport default useConfig;\n","export function isIframe() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n}\n","import debounce from \"lodash.debounce\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { toast } from \"react-hot-toast\";\nimport { create } from \"zustand\";\nimport exampleJson from \"../data/example.json\";\nimport { FileFormat } from \"../enums/file.enum\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport { isIframe } from \"../lib/utils/helpers\";\nimport { contentToJson, jsonToContent } from \"../lib/utils/jsonAdapter\";\nimport useConfig from \"./useConfig\";\nimport useJson from \"./useJson\";\n\nconst defaultJson = JSON.stringify(exampleJson, null, 2);\n\ntype SetContents = {\n  contents?: string;\n  hasChanges?: boolean;\n  skipUpdate?: boolean;\n  format?: FileFormat;\n};\n\ntype Query = string | string[] | undefined;\n\ninterface JsonActions {\n  getContents: () => string;\n  getFormat: () => FileFormat;\n  getHasChanges: () => boolean;\n  setError: (error: string | null) => void;\n  setHasChanges: (hasChanges: boolean) => void;\n  setContents: (data: SetContents) => void;\n  fetchUrl: (url: string) => void;\n  setFormat: (format: FileFormat) => void;\n  clear: () => void;\n  setFile: (fileData: File) => void;\n  setJsonSchema: (jsonSchema: object | null) => void;\n  checkEditorSession: (url: Query, widget?: boolean) => void;\n}\n\nexport type File = {\n  id: string;\n  views: number;\n  owner_email: string;\n  name: string;\n  content: string;\n  private: boolean;\n  format: FileFormat;\n  created_at: string;\n  updated_at: string;\n};\n\nconst initialStates = {\n  fileData: null as File | null,\n  format: FileFormat.JSON,\n  contents: defaultJson,\n  error: null as any,\n  hasChanges: false,\n  jsonSchema: null as object | null,\n};\n\nexport type FileStates = typeof initialStates;\n\nconst isURL = (value: string) => {\n  return /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/gi.test(\n    value\n  );\n};\n\nconst debouncedUpdateJson = debounce((value: unknown) => {\n  useGraph.getState().setLoading(true);\n  useJson.getState().setJson(JSON.stringify(value, null, 2));\n}, 400);\n\nconst useFile = create<FileStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  clear: () => {\n    set({ contents: \"\" });\n    useJson.getState().clear();\n  },\n  setJsonSchema: jsonSchema => set({ jsonSchema }),\n  setFile: fileData => {\n    set({ fileData, format: fileData.format || FileFormat.JSON });\n    get().setContents({ contents: fileData.content, hasChanges: false });\n    gaEvent(\"set_content\", { label: fileData.format });\n  },\n  getContents: () => get().contents,\n  getFormat: () => get().format,\n  getHasChanges: () => get().hasChanges,\n  setFormat: async format => {\n    try {\n      const prevFormat = get().format;\n\n      set({ format });\n      const contentJson = await contentToJson(get().contents, prevFormat);\n      const jsonContent = await jsonToContent(JSON.stringify(contentJson, null, 2), format);\n\n      get().setContents({ contents: jsonContent });\n    } catch (error) {\n      get().clear();\n      console.warn(\"The content was unable to be converted, so it was cleared instead.\");\n    }\n  },\n  setContents: async ({ contents, hasChanges = true, skipUpdate = false, format }) => {\n    try {\n      set({\n        ...(contents && { contents }),\n        error: null,\n        hasChanges,\n        format: format ?? get().format,\n      });\n\n      const isFetchURL = window.location.href.includes(\"?\");\n      const json = await contentToJson(get().contents, get().format);\n\n      if (!useConfig.getState().liveTransformEnabled && skipUpdate) return;\n\n      if (get().hasChanges && contents && contents.length < 80_000 && !isIframe() && !isFetchURL) {\n        sessionStorage.setItem(\"content\", contents);\n        sessionStorage.setItem(\"format\", get().format);\n        set({ hasChanges: true });\n      }\n\n      debouncedUpdateJson(json);\n    } catch (error: any) {\n      if (error?.mark?.snippet) return set({ error: error.mark.snippet });\n      if (error?.message) set({ error: error.message });\n      useJson.setState({ loading: false });\n      useGraph.setState({ loading: false });\n    }\n  },\n  setError: error => set({ error }),\n  setHasChanges: hasChanges => set({ hasChanges }),\n  fetchUrl: async url => {\n    try {\n      const res = await fetch(url);\n      const json = await res.json();\n      const jsonStr = JSON.stringify(json, null, 2);\n\n      get().setContents({ contents: jsonStr });\n      return useJson.setState({ json: jsonStr, loading: false });\n    } catch (error) {\n      get().clear();\n      toast.error(\"Failed to fetch document from URL!\");\n    }\n  },\n  checkEditorSession: (url, widget) => {\n    if (url && typeof url === \"string\" && isURL(url)) {\n      return get().fetchUrl(url);\n    }\n\n    let contents = defaultJson;\n    const sessionContent = sessionStorage.getItem(\"content\") as string | null;\n    const format = sessionStorage.getItem(\"format\") as FileFormat | null;\n    if (sessionContent && !widget) contents = sessionContent;\n\n    if (format) set({ format });\n    get().setContents({ contents, hasChanges: false });\n  },\n}));\n\nexport default useFile;\n","import { create } from \"zustand\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\n\ninterface JsonActions {\n  setJson: (json: string) => void;\n  getJson: () => string;\n  clear: () => void;\n}\n\nconst initialStates = {\n  json: \"{}\",\n  loading: true,\n};\n\nexport type JsonStates = typeof initialStates;\n\nconst useJson = create<JsonStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  getJson: () => get().json,\n  setJson: json => {\n    set({ json, loading: false });\n    useGraph.getState().setGraph(json);\n  },\n  clear: () => {\n    set({ json: \"\", loading: false });\n    useGraph.getState().clearGraph();\n  },\n}));\n\nexport default useJson;\n","import { createWithEqualityFn as create } from \"zustand/traditional\";\nimport { type ModalName, modals } from \"../features/modals/modalTypes\";\n\ninterface ModalActions {\n  setVisible: (name: ModalName, open: boolean) => void;\n}\n\ntype ModalState = Record<ModalName, boolean>;\n\nconst initialStates: ModalState = modals.reduce((acc, modal) => {\n  acc[modal] = false;\n  return acc;\n}, {} as ModalState);\n\nexport const useModal = create<ModalState & ModalActions>()(set => ({\n  ...initialStates,\n  setVisible: (name, open) => {\n    set({ [name]: open });\n  },\n}));\n"],"names":["window","__NEXT_P","push","__webpack_require__","NODE_DIMENSIONS","ROW_HEIGHT","PARENT_HEIGHT","SUPPORTED_LIMIT","FileFormat","TypeLanguage","formats","value","label","typeOptions","lang","ViewMode","isContentImage","isImageURL","test","isBase64","startsWith","includes","calculateLines","isArray","text","map","k","v","param","JSON","concat","stringify","slice","join","calculateWidthAndHeight","str","single","width","height","dummyElement","document","createElement","style","whiteSpace","innerText","fontSize","padding","fontWeight","fontFamily","body","appendChild","clientRect","getBoundingClientRect","lines","split","length","removeChild","sizeCache","Map","setInterval","clear","calculateNodeSize","isParent","imagePreviewEnabled","useConfig","getState","isImage","cacheKey","toString","has","size","get","sizes","set","parser","jsonTree","parseTree","json","nodes","edges","nodeId","edgeId","traverse","node","parentId","id","String","undefined","parent","type","from","to","isRootArray","children","key","childrenCount","path","forEach","child","valueNode","targetIds","arrayChild","arrayChildId","targetId","objectNodeId","Object","keys","appendParentKey","getParentKey","getNodePath","targetNode","pop","parentKey","parentType","replace","t","some","keyStr","initialStates","viewPort","direction","loading","fullscreen","selectedNode","aboveSupportedLimit","stores_useGraph","create","clearGraph","setSelectedNode","nodeData","setGraph","data","options","useJson","setDirection","setTimeout","centerView","setLoading","focusFirstNode","rootNode","querySelector","camera","centerFitElementIntoView","elementExtraMarginForZoom","setZoomFactor","zoomFactor","recenter","centerX","centerY","zoomIn","zoomOut","updateContainerSize","canvas","toggleFullscreen","setViewPort","Extensions","Language","getDownloadFormat","format","toSvg","toPng","toJpeg","swatches","DownloadModal","opened","onClose","extension","setExtension","React","fileDetails","setFileDetails","filename","backgroundColor","quality","clipboardImage","navigator","toast","imageElement","blob","toBlob","clipboard","write","ClipboardItem","success","gaEvent","error","Error","name","dismiss","exportAsImage","dataURI","downloadURI","uri","link","download","href","click","updateDetails","jsx_runtime","jsxs","Modal","title","centered","jsx","TextInput","onChange","e","target","mb","SegmentedControl","fullWidth","ColorInput","color","withEyeDropper","ColorPicker","withPicker","Divider","my","Group","justify","Button","leftSection","FiCopy","onClick","FiDownload","ImportModal","file","url","setURL","setFile","setContents","useFile","state","setFormat","Stack","py","placeholder","data-autofocus","Paper","radius","cursor","Dropzone","onDrop","files","onReject","maxFiles","p","accept","align","gap","mih","AiOutlineUpload","Text","fw","c","fz","fetch","then","res","contents","catch","finally","lastIndex","lastIndexOf","substring","disabled","normalizeNodeData","nodeRows","obj","row","jsonPathToString","segments","seg","NodeModal","useGraph","withCloseButton","pb","Flex","CloseButton","ScrollArea","Autosize","mah","maw","CodeHighlight","code","miw","language","withCopyButton","copyLabel","copiedLabel","JWTModal","token","setToken","Textarea","autosize","minRows","mt","decode","SchemaModal","setJsonSchema","darkmodeEnabled","schema","setSchema","$schema","description","properties","required","generateMockData","JSONSchemaFaker","Promise","all","bind","generate","parse","console","Anchor","rel","VscLinkExternal","withBorder","overflow","Editor","theme","formatOnPaste","tabSize","formatOnType","scrollBeyondLastLine","stickyScroll","enabled","minimap","variant","parsedSchema","Menu","Target","px","FaChevronDown","Dropdown","Item","hooks_useJsonQuery","getJson","transformer","run","output_mode","updateJson","query","cb","jq","promised","getJsonType","JQModal","useJsonQuery","setQuery","br","currentTarget","TypeModal","setType","selectedType","setSelectedType","editorLanguage","findIndex","o","jtg","gofmt","types","default","go","pos","Select","allowDeselect","styles","root","borderRadius","JPathModal","result","JSONPath","message","modals","freeze","StyledLogoWrapper","styled","div","withConfig","StyledTitle","span","monaSans","JSONCrackLogo","hideText","hideLogo","props","isIframe","setIsIframe","useEffect","location","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","Link","prefetch","Image","src","parseFloat","alt","contentToJson","resolve","reject","errors","YAML","load","XML","XMLParser","attributeNamePrefix","ignoreAttributes","allowBooleanAttributes","parseAttributeValue","trimValues","parseTagValue","CSV","csv2json","trimFieldValues","trimHeaderFields","wrapBooleans","excelBOM","jsonToContent","parsedJson","dump","XMLBuilder","builder","build","json2csv","Array","expandArrayObjects","expandNestedObjects","StyledBottomBar","BACKGROUND_MODIFIER_ACCENT","TOOLBAR_BG","StyledLeft","StyledRight","StyledBottomBarItem","button","INTERACTIVE_NORMAL","$bg","INTERACTIVE_HOVER","BottomBar","fileData","toggleLiveTransform","liveTransformEnabled","currentFormat","BiSolidDockLeft","Popover","shadow","position","withArrow","VscError","pointerEvents","VscCheck","VscSync","VscSyncIgnored","VscRunAll","offset","MdArrowUpward","toUpperCase","rightSection","IoMdCheckmark","FullscreenDropzone","FullScreen","fileContent","fileExtension","hasChanges","err","ta","h","Accept","VscFiles","Reject","VscCircleSlash","StyledToolElement","$hide","$highlight","FileMenu","setVisible","useModal","getContents","getFormat","CgChevronDown","a","Blob","URL","createObjectURL","ToolsMenu","randomizeData","jsonSchema","randomJson","VscSearchFuzzy","VscJson","MdFilterListAlt","SiJsonwebtokens","VscGroupByRefType","FaRandom","ViewMenu","toggleDarkMode","viewMode","setViewMode","useSessionStorage","defaultValue","Graph","closeOnItemClick","w","Tree","BsCheck2","opacity","StyledTools","SILVER","SILVER_DARK","fullscreenBrowser","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","Toolbar","flexWrap","AiOutlineFullscreen","ModalController","dynamic","ExternalMode","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","StyledPageWrapper","StyledEditorWrapper","StyledEditor","Allotment","BACKGROUND_SECONDARY","StyledTextEditor","TextEditor","ssr","LiveEditor","editor","isReady","useRouter","setColorScheme","useMantineColorScheme","checkEditorSession","Fragment","NextSeo","SEO","canonical","ThemeProvider","darkTheme","lightTheme","QueryClientProvider","client","proportionalLayout","Pane","preferredSize","minSize","maxSize","visible","gesturesEnabled","rulersEnabled","persist","toggleRulers","toggleGestures","toggleImagePreview","__webpack_exports__","Z","defaultJson","exampleJson","isURL","debouncedUpdateJson","debounce","setJson","store_useFile","content","getHasChanges","prevFormat","contentJson","jsonContent","warn","skipUpdate","isFetchURL","self","top","sessionStorage","setItem","mark","snippet","setState","setError","setHasChanges","fetchUrl","jsonStr","widget","sessionContent","getItem","reduce","acc","modal","open"],"sourceRoot":""}